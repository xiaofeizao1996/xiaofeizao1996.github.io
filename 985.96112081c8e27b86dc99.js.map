{"version":3,"file":"985.96112081c8e27b86dc99.js","mappings":"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","sources":["webpack://main/./src/hooks/useMonacoBase.ts","webpack://main/./src/hooks/useMonacoEditor.ts","webpack://main/./src/hooks/useMonacoDiffEditor.ts","webpack://main/./src/components/Editor.tsx","webpack://main/./src/components/DiffView.tsx","webpack://main/./src/pages/DiffTool/components/EditModeToolbar.tsx","webpack://main/./src/pages/DiffTool/components/DiffModeToolbar.tsx","webpack://main/./src/pages/DiffTool/components/EditorToolbar.tsx","webpack://main/./src/pages/DiffTool/components/DiffEditor.tsx","webpack://main/./src/pages/DiffTool/DiffTool.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\nconst DEFAULT_CONFIG = {\n    theme: 'vs-dark',\n    automaticLayout: true,\n    minimap: { enabled: false },\n    scrollBeyondLastLine: false,\n    fontSize: 14,\n    lineNumbers: 'on',\n    wordWrap: 'on',\n    readOnly: false,\n};\nexport const useMonacoBase = () => {\n    const editorRef = useRef(null);\n    const containerRef = useRef(null);\n    const isInitializedRef = useRef(false);\n    const loadMonaco = async () => {\n        const monaco = await import('monaco-editor');\n        return monaco;\n    };\n    const initMonacoEditor = async (createEditor, config = {}, forceRecreate = false) => {\n        if (!containerRef.current || (isInitializedRef.current && !forceRecreate)) {\n            return;\n        }\n        try {\n            const monaco = await loadMonaco();\n            requestAnimationFrame(async () => {\n                if (containerRef.current && (!editorRef.current || forceRecreate)) {\n                    const finalConfig = { ...DEFAULT_CONFIG, ...config };\n                    const editor = createEditor(monaco, containerRef.current, finalConfig);\n                    editorRef.current = editor instanceof Promise ? await editor : editor;\n                    isInitializedRef.current = true;\n                }\n            });\n        }\n        catch (error) {\n            console.error('Failed to initialize Monaco editor:', error);\n        }\n    };\n    const disposeEditor = () => {\n        if (editorRef.current) {\n            if (typeof editorRef.current.dispose === 'function') {\n                editorRef.current.dispose();\n            }\n            editorRef.current = null;\n            isInitializedRef.current = false;\n        }\n    };\n    useEffect(() => {\n        return disposeEditor;\n    }, []);\n    return {\n        editorRef,\n        containerRef,\n        isInitializedRef,\n        loadMonaco,\n        initMonacoEditor,\n        disposeEditor,\n        DEFAULT_CONFIG,\n    };\n};\nexport { DEFAULT_CONFIG };\n","import { useEffect } from 'react';\nimport { useMonacoBase } from '@/hooks/useMonacoBase';\nexport const useMonacoEditor = (options) => {\n    const { value, onChange, language = 'plaintext', theme, readOnly, automaticLayout, } = options;\n    const { editorRef, containerRef, isInitializedRef, initMonacoEditor, } = useMonacoBase();\n    useEffect(() => {\n        const createEditor = (monaco, container, config) => {\n            const editor = monaco.editor.create(container, {\n                value,\n                language,\n                ...config,\n            });\n            editor.onDidChangeModelContent(() => {\n                const newValue = editor?.getValue() || '';\n                onChange(newValue);\n            });\n            return editor;\n        };\n        initMonacoEditor(createEditor, { theme, readOnly, automaticLayout });\n    }, [language, onChange]); // 只依赖创建时的配置\n    // 更新编辑器内容\n    useEffect(() => {\n        if (editorRef.current && isInitializedRef.current) {\n            const codeEditor = editorRef.current;\n            const currentValue = codeEditor.getValue();\n            if (currentValue !== value) {\n                codeEditor.setValue(value);\n            }\n        }\n    }, [value]);\n    const focusEditor = () => {\n        const codeEditor = editorRef.current;\n        codeEditor?.focus();\n    };\n    return {\n        containerRef,\n        focusEditor,\n        editor: editorRef.current,\n    };\n};\n","import { useEffect } from 'react';\nimport { useMonacoBase } from '@/hooks/useMonacoBase';\nexport const useMonacoDiffEditor = (options) => {\n    const { leftText, rightText, viewMode, theme, } = options;\n    const { editorRef, containerRef, isInitializedRef, initMonacoEditor, loadMonaco, } = useMonacoBase();\n    useEffect(() => {\n        const createDiffEditor = (monaco, container, config) => {\n            const editor = monaco.editor.createDiffEditor(container, {\n                ...config,\n                renderSideBySide: viewMode === 'split',\n                enableSplitViewResizing: true,\n                renderLineHighlight: 'all',\n                readOnly: true,\n            });\n            // 立即设置初始内容\n            const originalModel = monaco.editor.createModel(leftText, 'plaintext');\n            const modifiedModel = monaco.editor.createModel(rightText, 'plaintext');\n            editor.setModel({\n                original: originalModel,\n                modified: modifiedModel,\n            });\n            return editor;\n        };\n        initMonacoEditor(createDiffEditor, { theme });\n    }, []); // 只在组件挂载时创建一次\n    // 更新diff内容\n    useEffect(() => {\n        const updateDiff = async () => {\n            if (editorRef.current && isInitializedRef.current) {\n                try {\n                    const monaco = await loadMonaco();\n                    const originalModel = monaco.editor.createModel(leftText, 'plaintext');\n                    const modifiedModel = monaco.editor.createModel(rightText, 'plaintext');\n                    const diffEditor = editorRef.current;\n                    diffEditor.setModel({\n                        original: originalModel,\n                        modified: modifiedModel,\n                    });\n                }\n                catch (error) {\n                    console.error('Failed to update diff model:', error);\n                }\n            }\n        };\n        if (isInitializedRef.current) {\n            updateDiff();\n        }\n    }, [leftText, rightText]);\n    return {\n        containerRef,\n        editor: editorRef.current,\n    };\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useMonacoEditor } from '@/hooks';\nconst Editor = ({ value, onChange, language = 'plaintext', theme = 'vs-dark', readOnly = false, className = '', }) => {\n    const { containerRef, focusEditor } = useMonacoEditor({\n        value,\n        onChange,\n        language,\n        theme,\n        readOnly,\n    });\n    return (_jsx(\"div\", { className: `relative w-full h-full cursor-text ${className}`, ref: containerRef, onClick: focusEditor }));\n};\nexport default React.memo(Editor);\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useMonacoDiffEditor } from '@/hooks';\nconst DiffView = ({ leftText, rightText, viewMode }) => {\n    const { containerRef } = useMonacoDiffEditor({\n        leftText,\n        rightText,\n        viewMode,\n    });\n    return (_jsx(\"div\", { className: \"w-full h-full\", ref: containerRef }));\n};\nexport default React.memo(DiffView);\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nconst EditModeToolbar = ({ hasContent, onCompare, onClear, }) => {\n    return (_jsxs(\"div\", { className: \"flex space-x-2\", children: [_jsx(\"button\", { onClick: onCompare, disabled: !hasContent, className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm transition-colors\", children: \"\\u5BF9\\u6BD4\\u5DEE\\u5F02\" }), _jsx(\"button\", { onClick: onClear, className: \"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm transition-colors\", children: \"\\u6E05\\u7A7A\" })] }));\n};\nexport default React.memo(EditModeToolbar);\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React from 'react';\nconst DiffModeToolbar = ({ viewMode, onBackToEdit, onClear, onViewModeChange, }) => {\n    return (_jsxs(_Fragment, { children: [_jsxs(\"div\", { className: \"flex items-center space-x-2 bg-gray-100 rounded-md p-1\", children: [_jsx(\"button\", { onClick: () => onViewModeChange('split'), className: `px-3 py-1 text-sm rounded transition-colors ${viewMode === 'split' ? 'bg-white shadow-sm' : 'hover:bg-gray-200'}`, children: \"\\u5206\\u5C4F\\u5BF9\\u6BD4\" }), _jsx(\"button\", { onClick: () => onViewModeChange('unified'), className: `px-3 py-1 text-sm rounded transition-colors ${viewMode === 'unified' ? 'bg-white shadow-sm' : 'hover:bg-gray-200'}`, children: \"\\u7EDF\\u4E00\\u89C6\\u56FE\" })] }), _jsxs(\"div\", { className: \"flex space-x-2\", children: [_jsx(\"button\", { onClick: onBackToEdit, className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm transition-colors\", children: \"\\u8FD4\\u56DE\\u4FEE\\u6539\" }), _jsx(\"button\", { onClick: onClear, className: \"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm transition-colors\", children: \"\\u6E05\\u7A7A\" })] })] }));\n};\nexport default React.memo(DiffModeToolbar);\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport EditModeToolbar from './EditModeToolbar';\nimport DiffModeToolbar from './DiffModeToolbar';\nconst EditorToolbar = ({ showDiff, viewMode, hasContent, onCompare, onBackToEdit, onClear, onViewModeChange, }) => {\n    const navigate = useNavigate();\n    return (_jsxs(\"div\", { className: \"bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between flex-shrink-0 z-10\", children: [_jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsxs(\"button\", { onClick: () => navigate('/tools'), className: \"px-3 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors flex items-center space-x-1\", title: \"\\u8FD4\\u56DE\\u5DE5\\u5177\\u5217\\u8868\", children: [_jsx(\"span\", { children: \"\\u2190\" }), _jsx(\"span\", { children: \"\\u8FD4\\u56DE\" })] }), _jsx(\"div\", { className: \"border-l border-gray-300 h-8\" }), _jsx(\"h1\", { className: \"text-lg font-semibold text-gray-900\", children: \"\\u6587\\u4EF6\\u5DEE\\u5F02\\u5BF9\\u6BD4\" })] }), _jsx(\"div\", { className: \"flex items-center space-x-4\", children: showDiff ? (_jsx(DiffModeToolbar, { viewMode: viewMode, onBackToEdit: onBackToEdit, onClear: onClear, onViewModeChange: onViewModeChange })) : (_jsx(EditModeToolbar, { hasContent: hasContent, onCompare: onCompare, onClear: onClear })) })] }));\n};\nexport default React.memo(EditorToolbar);\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useCallback, useMemo } from 'react';\nimport Editor from '@/components/Editor';\nimport DiffView from '@/components/DiffView';\nimport EditorToolbar from './EditorToolbar';\nconst DiffEditor = () => {\n    const [leftText, setLeftText] = useState('');\n    const [rightText, setRightText] = useState('');\n    const [showDiff, setShowDiff] = useState(false);\n    const [viewMode, setViewMode] = useState('split');\n    const [diffKey, setDiffKey] = useState(0); // 用于强制重新渲染 DiffView\n    const handleCompare = useCallback(() => {\n        if (leftText.trim() || rightText.trim()) {\n            setShowDiff(true);\n        }\n    }, [leftText, rightText]);\n    const handleBackToEdit = useCallback(() => {\n        setShowDiff(false);\n    }, []);\n    const clearAll = useCallback(() => {\n        setLeftText('');\n        setRightText('');\n        setShowDiff(false);\n    }, []);\n    const handleViewModeChange = useCallback((mode) => {\n        setViewMode(mode);\n        // 使用 requestAnimationFrame 延迟重新渲染，减少频繁切换的性能影响\n        requestAnimationFrame(() => {\n            setDiffKey((prev) => prev + 1);\n        });\n    }, []);\n    const hasContent = useMemo(() => {\n        return !!(leftText.trim() || rightText.trim());\n    }, [leftText, rightText]);\n    return (_jsxs(\"div\", { className: \"fixed inset-0 flex flex-col bg-gray-50\", children: [_jsx(EditorToolbar, { showDiff: showDiff, viewMode: viewMode, hasContent: hasContent, onCompare: handleCompare, onBackToEdit: handleBackToEdit, onClear: clearAll, onViewModeChange: handleViewModeChange }), !showDiff ? (\n            /* 编辑器区域 */\n            _jsxs(\"div\", { className: \"flex-1 flex\", children: [_jsxs(\"div\", { className: \"flex-1 flex flex-col border-r border-gray-300\", children: [_jsx(\"div\", { className: \"bg-gray-800 px-4 py-2 text-gray-300 text-sm font-medium flex-shrink-0\", children: \"\\u539F\\u59CB\\u6587\\u4EF6\" }), _jsx(\"div\", { className: \"flex-1\", children: _jsx(Editor, { value: leftText, onChange: setLeftText }) })] }), _jsxs(\"div\", { className: \"flex-1 flex flex-col\", children: [_jsx(\"div\", { className: \"bg-gray-800 px-4 py-2 text-gray-300 text-sm font-medium flex-shrink-0\", children: \"\\u4FEE\\u6539\\u6587\\u4EF6\" }), _jsx(\"div\", { className: \"flex-1\", children: _jsx(Editor, { value: rightText, onChange: setRightText }) })] })] })) : (\n            /* 差异显示区域 */\n            _jsxs(\"div\", { className: \"flex-1 flex flex-col\", children: [_jsxs(\"div\", { className: \"flex flex-shrink-0\", children: [_jsx(\"div\", { className: \"flex-1 bg-gray-800 px-4 py-2 text-gray-300 text-sm font-medium border-r border-gray-600\", children: \"\\u539F\\u59CB\\u6587\\u4EF6\" }), _jsx(\"div\", { className: \"flex-1 bg-gray-800 px-4 py-2 text-gray-300 text-sm font-medium\", children: \"\\u4FEE\\u6539\\u6587\\u4EF6\" })] }), _jsx(\"div\", { className: \"flex-1\", children: _jsx(DiffView, { leftText: leftText, rightText: rightText, viewMode: viewMode }, diffKey) })] }))] }));\n};\nexport default React.memo(DiffEditor);\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport DiffEditor from './components/DiffEditor';\nconst DiffTool = () => {\n    return _jsx(DiffEditor, {});\n};\nexport default DiffTool;\n"],"names":["DEFAULT_CONFIG","theme","automaticLayout","minimap","enabled","scrollBeyondLastLine","fontSize","lineNumbers","wordWrap","readOnly","useMonacoBase","editorRef","useRef","containerRef","isInitializedRef","loadMonaco","async","disposeEditor","current","dispose","useEffect","initMonacoEditor","createEditor","config","forceRecreate","monaco","requestAnimationFrame","finalConfig","editor","Promise","error","console","useMonacoEditor","options","value","onChange","language","container","create","onDidChangeModelContent","newValue","getValue","codeEditor","setValue","focusEditor","focus","useMonacoDiffEditor","leftText","rightText","viewMode","createDiffEditor","renderSideBySide","enableSplitViewResizing","renderLineHighlight","originalModel","createModel","modifiedModel","setModel","original","modified","updateDiff","className","ref","onClick","hasContent","onCompare","onClear","children","disabled","onBackToEdit","onViewModeChange","showDiff","navigate","title","setLeftText","useState","setRightText","setShowDiff","setViewMode","diffKey","setDiffKey","handleCompare","useCallback","trim","handleBackToEdit","clearAll","handleViewModeChange","mode","prev","useMemo","Editor"],"ignoreList":[],"sourceRoot":""}